# Hardware Configuration Management

## Table of Contents
- [Overview](#overview)
- [Generating Hardware Configuration](#generating-hardware-configuration)
- [Updating Hardware Configuration](#updating-hardware-configuration)
- [Rebuilding the System](#rebuilding-the-system)

## Overview

This repository sources hardware-specific configuration from the standard NixOS location (`/etc/nixos/hardware-configuration.nix`) when available. This file is generated by `nixos-generate-config` and should not be committed to the repository.

## Generating Hardware Configuration

When setting up on a new machine or when hardware changes:

```bash
# Generate the hardware configuration
sudo nixos-generate-config --show-hardware-config > /etc/nixos/hardware-configuration.nix
```

## Updating Hardware Configuration

If you make hardware changes (e.g., adding a new disk, changing GPU):

```bash
# Backup the existing configuration
sudo cp /etc/nixos/hardware-configuration.nix /etc/nixos/hardware-configuration.nix.backup

# Generate the new configuration
sudo nixos-generate-config --show-hardware-config > /etc/nixos/hardware-configuration.nix
```

## Rebuilding the System

After updating hardware configuration:

```bash
# Rebuild the system with new hardware configuration
sudo nixos-rebuild switch
```